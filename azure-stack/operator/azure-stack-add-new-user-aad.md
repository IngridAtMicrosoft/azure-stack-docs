---
title: Add a new Azure Stack Hub user account in Azure Active Directory
description: Learn how to create a user account in Azure Active Directory, so you can explore the user portal.
author: JustinHall

ms.topic: article
ms.date: 05/20/2019
ms.author: justinha
ms.reviewer: thoroet
ms.lastreviewed: 09/17/2019

# Intent: As an Azure Stack operator, I want to add a new tenant account in AAD so I can explore the tenant portal and test offers and plans.
# Keyword: tenant account active directory

---


# Add a new Azure Stack Hub user account in Azure Active Directory (Azure AD)

Before you can test offers and plans, and create resources, you'll need a user account. You create a user account in your Azure AD tenant, by using the Azure portal or PowerShell.

## Create user account using the Azure portal

You must have an Azure subscription to use the Azure portal.

1. Sign in to [Azure](https://portal.azure.com).
2. In the left navigation bar, select **Active Directory** and switch to the directory that you want to use for Azure Stack Hub (or create a new one).
3. Select **Azure Active Directory** > **Users** > **New user**.

    ![Users - All users page with New user highlighted](media/azure-stack-add-new-user-aad/new-user-all-users.png)

4. On the **User** page, fill out the required info.

    ![Add new user, User page with user info](media/azure-stack-add-new-user-aad/new-user-user.png)

   - **Name (required)**: The first and last name of the new user. For example, Mary Parker.
   - **User name (required)**: The user name of the new user. For example, mary@contoso.com.
       The domain part of the user name must use either the initial default domain name, <_yourdomainname_>.onmicrosoft.com, or a custom domain name, such as contoso.com. For more info on how to create a custom domain name, see [How to add a custom domain name to Azure AD](/azure/active-directory/fundamentals/add-custom-domain).
   - **Profile**: Optionally, you can add more info about the user. You can also add user info at a later time. For more info on adding user info, see [How to add or change user profile information](/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).
   - **Directory role**:  choose **User**.

5. Check **Show Password** and copy the autogenerated password provided in the **Password** box. You'll need this password for the initial sign-in process.

6. Select **Create**.

    The user is created and added to your Azure AD tenant.

7. Sign in to the Azure portal with the new account. Change the password when prompted.
8. Sign in to `https://portal.local.azurestack.external` with the new account to see the user portal.

## Create a user account using PowerShell

If you don't have an Azure subscription, you can't use the Azure portal to add a tenant user account. In this case, you can use the Azure AD Module for Windows PowerShell instead.

> [!NOTE]
> If you're using Microsoft Account to deploy the ASDK, you can't use Azure AD PowerShell to create a tenant account.

1. Install the **64-bit** version of the [Microsoft Online Services Sign-in Assistant for IT Professionals RTW](https://go.microsoft.com/fwlink/p/?LinkId=286152).

2. Install the Microsoft Azure AD Module for Windows PowerShell with these steps:

    - Open an elevated Windows PowerShell command prompt (run Windows PowerShell as admin).
    - Run the **Install-Module MSOnline** command.
    - If you're prompted to install the NuGet provider, select **Y** and **Enter**.
    - If you're prompted to install the module from PSGallery, select **Y** and **Enter**.

3. Run the following cmdlets:

    ```powershell
    # Provide the Azure AD credential you use to deploy the ASDK.

            $msolcred = get-credential

    # Add a user account "Tenant Admin <username>@<yourdomainname>" with the initial password "<password>".

            connect-msolservice -credential $msolcred
            $user = new-msoluser -DisplayName "Tenant Admin" -UserPrincipalName <username>@<yourdomainname> -Password <password>
            Add-MsolRoleMember -RoleName "Company Administrator" -RoleMemberType User -RoleMemberObjectId $user.ObjectId

    ```

1. Sign in to Azure with the new account. Change the password when prompted.
2. Sign in to `https://portal.local.azurestack.external` with the new account to see the user portal.

## Next steps

[Add Azure Stack Hub users in AD FS](azure-stack-add-users-adfs.md)
